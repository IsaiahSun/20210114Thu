（1）.Update and Install dependnceies

Update:  On Ubuntu systems,run:

sudo apt-get update

sudo apt-get -y install git swig cmake doxygen build-essential libboost-all-dev libtool libusb-1.0-0 libusb-1.0-0-dev libudev-dev libncurses5-dev libfftw3-bin libfftw3-dev libfftw3-doc libcppunit-1.14-0 libcppunit-dev libcppunit-doc ncurses-bin cpufrequtils python-numpy python-numpy-doc python-numpy-dbg python-scipy python-docutils qt4-bin-dbg qt4-default qt4-doc libqt4-dev libqt4-dev-bin python-qt4 python-qt4-dbg python-qt4-dev python-qt4-doc python-qt4-doc libqwt6abi1 libfftw3-bin libfftw3-dev libfftw3-doc ncurses-bin libncurses5 libncurses5-dev libncurses5-dbg libfontconfig1-dev libxrender-dev libpulse-dev swig g++ automake autoconf libtool python-dev libfftw3-dev libcppunit-dev libboost-all-dev libusb-dev libusb-1.0-0-dev fort77 libsdl1.2-dev python-wxgtk3.0 git libqt4-dev python-numpy ccache python-opengl libgsl-dev python-cheetah python-mako python-lxml doxygen qt4-default qt4-dev-tools libusb-1.0-0-dev libqwtplot3d-qt5-dev pyqt4-dev-tools python-qwt5-qt4 cmake git wget libxi-dev gtk2-engines-pixbuf r-base-dev python-tk liborc-0.4-0 liborc-0.4-dev libasound2-dev python-gtk2 libzmq3-dev libzmq5 python-requests python-sphinx libcomedi-dev python-zmq libqwt-dev libqwt6abi1 python-six libgps-dev libgps23 gpsd gpsd-clients python-gps python-setuptools

After installing the dependencies, you should reboot the system.
If the installation of the dependencies without any errors, then you can proceed to build and install UHD and GNU Radio.

（2）install UHD3.15.0.0

Make sure that no USRP device is connected to the system at this point.

And,make sure that the LD_LIBRARY_PATH environment variable is defined and includes the folder under which UHD was installed. Most commonly, you can add the line below to the end of your $HOME/.bashrc file:

gedit $HOME/.bashrc
# add the line below to the end of ./bashrc file:
export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH 
export PYTHONPATH=/usr/local/lib/python3/dist-packages:/usr/local/lib/python3.6/dist-packages:$PYTHONPATH    

gedit $HOME/.profile
# add the line below to the end of ./profile file:
export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH 
export PYTHONPATH=/usr/local/lib/python3/dist-packages:/usr/local/lib/python3.6/dist-packages:$PYTHONPATH

sudo ldconfig

cd $HOME
mkdir workarea
cd workarea

git clone https://github.com.cnpmjs.org/EttusResearch/uhd
cd uhd

git checkout v3.15.0.0

cd host 
mkdir build
cd build
cmake ../
make
make test
sudo make install
sudo ldconfig

（3）.Downloading the UHD FPGA Images

sudo uhd_images_downloader

Note: Since this installation is being installed to a system level directory (e.g. /usr/local), the uhd_images_downloader command requires sudo privileges. 

Use my sources from downoad.

（4）.Building and installing GNU Radio3.8

GNU Radio version 3.8.x with Python 3 support: 


sudo apt install git cmake g++ libboost-all-dev libgmp-dev swig python3-numpy python3-mako python3-sphinx python3-lxml doxygen libfftw3-dev libsdl1.2-dev libgsl-dev libqwt-qt5-dev libqt5opengl5-dev python3-pyqt5 liblog4cpp5-dev libzmq3-dev python3-yaml python3-click python3-click-plugins python3-zmq python3-scipy python3-pip python3-gi-cairo

pip3 install git+https://github.com.cnpmjs.org/pyqtgraph/pyqtgraph@develop
pip3 install numpy scipy


（5）.Installing GNU Radio

cd workarea
git clone --recursive https://github.com.cnpmjs.org/gnuradio/gnuradio.git
cd gnuradio
git clone https://github.com/gnuradio.cnpmjs.org/volk.git

git checkout maint-3.8
cd volk
git checkout v2.2.1
cd ..
mkdir build
cd build

cmake -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE=/usr/bin/python3 ../

make -j4 # make -j4 will use 4 threads in the build
make test
sudo make install
sudo ldconfig



Reference：

https://wiki.gnuradio.org/index.php/InstallingGR#Common_cmake_flags

https://www.cnblogs.com/jsdy/p/12702246.html

https://kb.ettus.com/Building_and_Installing_UHD_and_GNU_Radio_in_an_Offline_Environment

https://wiki.gnuradio.org/index.php/ModuleNotFoundError#B._Finding_the_Python_library















